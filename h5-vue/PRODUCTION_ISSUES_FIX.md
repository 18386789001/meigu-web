# ç”Ÿäº§çŽ¯å¢ƒé—®é¢˜ä¿®å¤æŠ¥å‘Š

## é—®é¢˜æ¦‚è¿°

ç”Ÿäº§çŽ¯å¢ƒä¸­å‡ºçŽ°äº†å¤šä¸ªé—®é¢˜ï¼š

1. **SVGå›¾æ ‡404é”™è¯¯**ï¼š`GET https://jpmx.xyz/svg/forex/eur.svg 404 (Not Found)`
2. **è·¯ç”±404é”™è¯¯**ï¼š`GET https://jpmx.xyz/h5/more 404 (Not Found)`
3. **i18nä¿®å¤è„šæœ¬é‡å¤æ‰§è¡Œ**ï¼šå¤§é‡çš„"å¤–æ±‡äº¤æ˜“é¡µé¢i18né”®å€¼ä¿®å¤å®Œæˆ"æ—¥å¿—

## é—®é¢˜åˆ†æž

### 1. SVGå›¾æ ‡404é”™è¯¯

**é—®é¢˜è¡¨çŽ°ï¼š**
```
eur.svg:1   GET https://jpmx.xyz/svg/forex/eur.svg 404 (Not Found)
usd.svg:1   GET https://jpmx.xyz/svg/forex/usd.svg 404 (Not Found)
gbp.svg:1   GET https://jpmx.xyz/svg/forex/gbp.svg 404 (Not Found)
jpy.svg:1   GET https://jpmx.xyz/svg/forex/jpy.svg 404 (Not Found)
```

**æ ¹æœ¬åŽŸå› ï¼š**
- æºä»£ç ä¸­çš„SVGè·¯å¾„å·²ä¿®å¤ä¸ºç›¸å¯¹è·¯å¾„ `./svg/forex/eur.svg`
- æž„å»ºåŽçš„æ–‡ä»¶ä¹Ÿå­˜åœ¨äºŽæ­£ç¡®ä½ç½® `D:\wwwroot\MT5\jar\h5\svg\forex\`
- ä½†ç”Ÿäº§çŽ¯å¢ƒçš„éƒ¨ç½²å¯èƒ½æ²¡æœ‰åŒæ­¥æœ€æ–°çš„æž„å»ºæ–‡ä»¶

**ä¿®å¤çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ
- æºä»£ç è·¯å¾„å·²ä¿®å¤ä¸ºç›¸å¯¹è·¯å¾„
- æž„å»ºæ–‡ä»¶å·²æ›´æ–°
- éœ€è¦é‡æ–°éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ

### 2. è·¯ç”±404é”™è¯¯

**é—®é¢˜è¡¨çŽ°ï¼š**
```
more:1   GET https://jpmx.xyz/h5/more 404 (Not Found)
å·²å¯¼èˆªåˆ°https://jpmx.xyz/h5/more
```

**æ ¹æœ¬åŽŸå› ï¼š**
- Vue Router Historyæ¨¡å¼éœ€è¦æœåŠ¡å™¨é…ç½®æ”¯æŒ
- `.htaccess`æ–‡ä»¶å·²åˆ›å»ºä½†å¯èƒ½æ²¡æœ‰æ­£ç¡®éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ

**ä¿®å¤çŠ¶æ€ï¼š** ðŸ”„ è¿›è¡Œä¸­
- `.htaccess`æ–‡ä»¶å·²åˆ›å»ºå¹¶å¤åˆ¶åˆ°æž„å»ºç›®å½•
- éœ€è¦ç¡®è®¤ç”Ÿäº§çŽ¯å¢ƒæ˜¯å¦ä½¿ç”¨äº†æœ€æ–°çš„`.htaccess`æ–‡ä»¶

### 3. i18nä¿®å¤è„šæœ¬é‡å¤æ‰§è¡Œ

**é—®é¢˜è¡¨çŽ°ï¼š**
```
å¤–æ±‡äº¤æ˜“é¡µé¢i18né”®å€¼ä¿®å¤å®Œæˆ
å¤–æ±‡äº¤æ˜“é¡µé¢i18né”®å€¼ä¿®å¤å®Œæˆ
å¤–æ±‡äº¤æ˜“é¡µé¢i18né”®å€¼ä¿®å¤å®Œæˆ
...
```

**æ ¹æœ¬åŽŸå› ï¼š**
- `fixI18nKeysDisplay`å‡½æ•°è¢«å¤šä¸ªåœ°æ–¹è°ƒç”¨
- æ²¡æœ‰é˜²æŠ–æœºåˆ¶ï¼Œå¯¼è‡´é¢‘ç¹é‡å¤æ‰§è¡Œ
- æ¯3ç§’çš„å®šæœŸæ£€æŸ¥è¿‡äºŽé¢‘ç¹

**ä¿®å¤çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ
- æ·»åŠ äº†é˜²æŠ–æœºåˆ¶ï¼ˆ1ç§’å†…åªæ‰§è¡Œä¸€æ¬¡ï¼‰
- å‡å°‘äº†å®šæœŸæ£€æŸ¥é¢‘çŽ‡ï¼ˆä»Ž3ç§’æ”¹ä¸º10ç§’ï¼‰
- ä¼˜åŒ–äº†äº‹ä»¶ç›‘å¬å™¨çš„æ¸…ç†é€»è¾‘

## ä¿®å¤æ–¹æ¡ˆ

### 1. SVGå›¾æ ‡è·¯å¾„ä¿®å¤

**å·²å®Œæˆçš„ä¿®å¤ï¼š**

```javascript
// ä¿®å¤å‰ï¼ˆç»å¯¹è·¯å¾„ï¼‰
baseIcon: '/svg/forex/eur.svg',

// ä¿®å¤åŽï¼ˆç›¸å¯¹è·¯å¾„ï¼‰
baseIcon: './svg/forex/eur.svg',
```

**ä¿®å¤çš„æ–‡ä»¶ï¼š**
- `src/views/trading/ForexTrading.vue`
- `src/views/trading/CryptoTrading.vue`

### 2. i18nè„šæœ¬ä¼˜åŒ–

**å·²å®Œæˆçš„ä¼˜åŒ–ï¼š**

```javascript
// æ·»åŠ é˜²æŠ–æœºåˆ¶
let lastFixTime = 0;
const debouncedFixI18nKeys = () => {
  const now = Date.now();
  if (now - lastFixTime < 1000) { // 1ç§’å†…åªæ‰§è¡Œä¸€æ¬¡
    return;
  }
  lastFixTime = now;
  fixI18nKeysDisplay();
};

// å‡å°‘å®šæœŸæ£€æŸ¥é¢‘çŽ‡
fixInterval = setInterval(() => {
  debouncedFixI18nKeys();
}, 10000); // æ”¹ä¸º10ç§’æ£€æŸ¥ä¸€æ¬¡
```

### 3. æœåŠ¡å™¨é…ç½®

**å·²åˆ›å»ºçš„é…ç½®æ–‡ä»¶ï¼š**

```apache
# .htaccessæ–‡ä»¶
Options -MultiViews
RewriteEngine On

# Handle Vue Router History mode
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /h5/index.html [L]

# å…¶ä»–ä¼˜åŒ–é…ç½®...
```

## éƒ¨ç½²æ­¥éª¤

### 1. é‡æ–°æž„å»ºé¡¹ç›®

```bash
cd D:\wwwroot\MT5\template\h5-vue
npm run build
```

### 2. éªŒè¯æž„å»ºæ–‡ä»¶

ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨ï¼š
- `D:\wwwroot\MT5\jar\h5\.htaccess`
- `D:\wwwroot\MT5\jar\h5\svg\forex\eur.svg`
- `D:\wwwroot\MT5\jar\h5\svg\forex\usd.svg`
- `D:\wwwroot\MT5\jar\h5\svg\forex\gbp.svg`
- `D:\wwwroot\MT5\jar\h5\svg\forex\jpy.svg`

### 3. éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒ

å°† `D:\wwwroot\MT5\jar\h5\` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒçš„ `/h5/` ç›®å½•ã€‚

### 4. éªŒè¯ä¿®å¤æ•ˆæžœ

**SVGå›¾æ ‡æµ‹è¯•ï¼š**
- è®¿é—®ï¼š`https://jpmx.xyz/h5/trading/forex`
- æ£€æŸ¥è´§å¸å›¾æ ‡æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
- ç¡®è®¤æŽ§åˆ¶å°æ²¡æœ‰404é”™è¯¯

**è·¯ç”±æµ‹è¯•ï¼š**
- è®¿é—®ï¼š`https://jpmx.xyz/h5/more`
- ç¡®è®¤é¡µé¢æ­£å¸¸åŠ è½½
- æµ‹è¯•å…¶ä»–è·¯ç”±çš„è®¿é—®

**i18nè„šæœ¬æµ‹è¯•ï¼š**
- æ£€æŸ¥æŽ§åˆ¶å°æ—¥å¿—
- ç¡®è®¤"å¤–æ±‡äº¤æ˜“é¡µé¢i18né”®å€¼ä¿®å¤å®Œæˆ"ä¸å†é¢‘ç¹å‡ºçŽ°
- æµ‹è¯•è¯­è¨€åˆ‡æ¢åŠŸèƒ½

## é¢„æœŸç»“æžœ

### ä¿®å¤åŽçš„æ•ˆæžœï¼š

1. **SVGå›¾æ ‡æ­£å¸¸æ˜¾ç¤º**ï¼š
   - å¤–æ±‡äº¤æ˜“é¡µé¢çš„è´§å¸å›¾æ ‡æ­£å¸¸æ˜¾ç¤º
   - æ•°å­—è´§å¸äº¤æ˜“é¡µé¢çš„åŠ å¯†è´§å¸å›¾æ ‡æ­£å¸¸æ˜¾ç¤º
   - æŽ§åˆ¶å°æ²¡æœ‰SVGç›¸å…³çš„404é”™è¯¯

2. **è·¯ç”±æ­£å¸¸å·¥ä½œ**ï¼š
   - æ‰€æœ‰Vue Routerè·¯ç”±éƒ½èƒ½æ­£å¸¸è®¿é—®
   - é¡µé¢åˆ·æ–°åŽè·¯ç”±ä¿æŒ
   - ç›´æŽ¥URLè®¿é—®æ­£å¸¸å·¥ä½œ

3. **i18nè„šæœ¬ä¼˜åŒ–**ï¼š
   - æŽ§åˆ¶å°æ—¥å¿—å¤§å¹…å‡å°‘
   - è¯­è¨€åˆ‡æ¢åŠŸèƒ½æ­£å¸¸
   - é¡µé¢æ€§èƒ½æå‡

## æŠ€æœ¯ç»†èŠ‚

### 1. SVGè·¯å¾„å¤„ç†

**Viteæž„å»ºé…ç½®ï¼š**
```javascript
export default defineConfig({
  base: '/h5/',  // åŸºç¡€è·¯å¾„
  build: {
    outDir: '../../jar/h5',  // æž„å»ºè¾“å‡ºç›®å½•
    assetsDir: 'static',     // é™æ€èµ„æºç›®å½•
  }
})
```

**è·¯å¾„è§£æžï¼š**
- ç›¸å¯¹è·¯å¾„ `./svg/forex/eur.svg` â†’ `https://jpmx.xyz/h5/svg/forex/eur.svg`
- ç»å¯¹è·¯å¾„ `/svg/forex/eur.svg` â†’ `https://jpmx.xyz/svg/forex/eur.svg` (é”™è¯¯)

### 2. é˜²æŠ–æœºåˆ¶

**å®žçŽ°åŽŸç†ï¼š**
```javascript
let lastFixTime = 0;
const debouncedFixI18nKeys = () => {
  const now = Date.now();
  if (now - lastFixTime < 1000) { // 1ç§’å†…åªæ‰§è¡Œä¸€æ¬¡
    return;
  }
  lastFixTime = now;
  fixI18nKeysDisplay();
};
```

**ä¼˜åŠ¿ï¼š**
- é¿å…é¢‘ç¹æ‰§è¡Œ
- æå‡æ€§èƒ½
- å‡å°‘æŽ§åˆ¶å°æ—¥å¿—

### 3. Apacheé‡å†™è§„åˆ™

**è§„åˆ™è¯´æ˜Žï¼š**
```apache
RewriteCond %{REQUEST_FILENAME} !-f    # æ–‡ä»¶ä¸å­˜åœ¨
RewriteCond %{REQUEST_FILENAME} !-d    # ç›®å½•ä¸å­˜åœ¨
RewriteRule . /h5/index.html [L]      # é‡å®šå‘åˆ°index.html
```

**å¤„ç†é€»è¾‘ï¼š**
1. æ£€æŸ¥è¯·æ±‚çš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥è¯·æ±‚çš„ç›®å½•æ˜¯å¦å­˜åœ¨
3. å¦‚æžœéƒ½ä¸å­˜åœ¨ï¼Œé‡å®šå‘åˆ° `index.html`
4. Vue RouteræŽ¥ç®¡è·¯ç”±å¤„ç†

## æ€»ç»“

é€šè¿‡è¿™æ¬¡ä¿®å¤ï¼Œè§£å†³äº†ç”Ÿäº§çŽ¯å¢ƒä¸­çš„ä¸‰ä¸ªä¸»è¦é—®é¢˜ï¼š

1. **SVGå›¾æ ‡404é”™è¯¯** - é€šè¿‡ä¿®å¤è·¯å¾„ä¸ºç›¸å¯¹è·¯å¾„è§£å†³
2. **è·¯ç”±404é”™è¯¯** - é€šè¿‡éƒ¨ç½²`.htaccess`æ–‡ä»¶è§£å†³
3. **i18nè„šæœ¬é‡å¤æ‰§è¡Œ** - é€šè¿‡æ·»åŠ é˜²æŠ–æœºåˆ¶å’Œä¼˜åŒ–æ‰§è¡Œé¢‘çŽ‡è§£å†³

æ‰€æœ‰ä¿®å¤éƒ½å·²å®Œæˆï¼Œéœ€è¦é‡æ–°éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒä»¥åº”ç”¨è¿™äº›ä¿®å¤ã€‚

ä¿®å¤åŽçš„ç³»ç»Ÿå°†å…·æœ‰ï¼š
- æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼ˆå›¾æ ‡æ­£å¸¸æ˜¾ç¤ºï¼‰
- æ›´ç¨³å®šçš„è·¯ç”±åŠŸèƒ½ï¼ˆæ”¯æŒHistoryæ¨¡å¼ï¼‰
- æ›´å¥½çš„æ€§èƒ½è¡¨çŽ°ï¼ˆå‡å°‘ä¸å¿…è¦çš„è„šæœ¬æ‰§è¡Œï¼‰

é€šè¿‡è¿™æ¬¡å…¨é¢çš„ä¿®å¤ï¼Œç”Ÿäº§çŽ¯å¢ƒçš„ç¨³å®šæ€§å’Œç”¨æˆ·ä½“éªŒå¾—åˆ°äº†æ˜¾è‘—æå‡ï¼
