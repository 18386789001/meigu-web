# 入金报表页面配置说明

## 页面文件位置
`src/views/modules/order/rujin.vue`

## 功能说明
该页面整合了两个充值接口的数据：
1. **银行卡充值记录** - 显示direction为"recharge"且状态为已完成(state=3)的订单
2. **数字货币充值记录** - 显示status为1（成功）的订单

## 页面功能特性
- ✅ 搜索功能：支持按订单号、用户名、用户UID搜索
- ✅ 筛选功能：可按入金方式（银行卡/数字货币）筛选
- ✅ 数据整合：将两个接口的数据合并显示在一个表格中
- ✅ 分页功能：支持前端分页
- ✅ 刷新功能：支持手动刷新数据

## 显示字段
| 字段名 | 说明 | 银行卡充值 | 数字货币充值 |
|--------|------|-----------|-------------|
| 订单号 | | ✓ | ✓ |
| 用户名 | | ✓ | ✓ |
| UID | 用户UID | ✓ | ✓ |
| 入金方式 | 银行卡充值/数字货币充值 | ✓ | ✓ |
| 支付币种 | | ✓ | ✓ |
| 到账币种 | | ✓ | ✓ |
| 币种单价 | | ✓ | ✓ |
| 币种数量 | | ✓ | ✓ |
| 手续费 | | ✓ | - |
| 支付金额 | | ✓ | ✓ |
| 充值币链 | | - | ✓ |
| 币链地址 | | - | ✓ |
| 备注 | | ✓ | ✓ |
| 创建时间 | | ✓ | ✓ |
| 审核时间 | | ✓ | ✓ |

## 如何添加到菜单中

### 方法1：通过后台管理系统配置（推荐）
1. 登录管理后台
2. 找到菜单管理功能
3. 添加新菜单项：
   - 菜单名称：入金报表
   - 路由地址：order/order-rujin
   - 父菜单：选择订单管理或报表管理
   - 权限标识：order:rujin:page

### 方法2：手动修改配置文件
在 `src/menu.js` 中添加菜单项（找到合适的父菜单ID，例如337是报表管理）：

```javascript
{
  menuId: 999, // 使用一个唯一的ID
  parentId: 337, // 报表管理的父ID，根据实际情况修改
  parentName: null,
  name: "入金报表",
  url: "order/order-rujin",
  perms: "order:rujin:page",
  type: 1,
  icon: "order",
  orderNum: 0,
  list: null,
  appType: "1",
}
```

### 方法3：在路由配置中添加（如果使用动态路由）
检查项目是否在 `src/router/index.js` 中配置了路由，如果是静态路由，需要添加：

```javascript
{
  path: '/order/order-rujin',
  component: () => import('@/views/modules/order/rujin'),
  name: 'order-rujin',
  meta: { title: '入金报表', isTab: true }
}
```

## API接口说明

### 银行卡充值接口
- **URL**: https://jpmx.xyz/apis/bankCardOrder/list
- **方法**: POST
- **参数**: 
  ```json
  {
    "t": 1760209407337,
    "current": 1,
    "size": 10
  }
  ```
- **筛选条件**: `direction === "recharge" && state === "3"`

### 数字货币充值接口
- **URL**: https://jpmx.xyz/apis/rechargeOrder/list
- **方法**: POST
- **参数**: 
  ```json
  {
    "t": 1760212841435,
    "status": "1",
    "current": 1,
    "size": 10
  }
  ```
- **筛选条件**: `status === 1`

## 访问路径
配置完成后，可通过以下URL访问：
- 本地开发环境：http://localhost:9528/#/order/order-rujin
- 生产环境：根据实际域名访问

## 注意事项
1. 该页面会同时请求两个接口，请确保接口可访问且有权限
2. 如果数据量很大，可能需要优化为后端分页
3. 确保登录状态有效，否则接口会返回403错误
4. 页面使用前端分页，当前设置为获取1000条记录

## 测试方法
1. 启动开发服务器：`yarn dev`
2. 在浏览器中访问：http://localhost:9528/#/order/order-rujin
3. 测试搜索、筛选、分页等功能
4. 检查数据是否正确显示

## 故障排查
如果页面无法访问或数据不显示：
1. 检查浏览器控制台是否有错误
2. 检查Network标签页中API请求是否成功
3. 确认登录token是否有效
4. 检查路由配置是否正确
5. 查看menu.js中菜单配置是否添加

