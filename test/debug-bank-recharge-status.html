<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é“¶è¡Œå¡å……å€¼è®°å½•çŠ¶æ€è°ƒè¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .debug-section {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .status-demo {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 4px;
            border: 1px solid #eee;
        }
        .status-icon {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-icon-success {
            background: #28a745;
        }
        .status-icon-failed {
            background: #EA0F0F;
        }
        .status-icon-pending {
            background: #F5D658;
        }
        .status-text-success {
            color: #28a745;
            font-weight: bold;
        }
        .status-text-failed {
            color: #EA0F0F;
            font-weight: bold;
        }
        .status-text-pending {
            color: #F5D658;
            font-weight: bold;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        h2 {
            color: #555;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 10px 0;
        }
        .api-info {
            background: #e7f3ff;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>é“¶è¡Œå¡å……å€¼è®°å½•çŠ¶æ€è°ƒè¯•æŒ‡å—</h1>
        
        <div class="api-info">
            <h3>APIæ¥å£ä¿¡æ¯</h3>
            <p><strong>æ¥å£åœ°å€:</strong> https://jpmx.xyz/api/c2cOrder/list?page_no=1&direction=recharge&language=zh-CN</p>
            <p><strong>è¯·æ±‚æ–¹æ³•:</strong> GET</p>
            <p><strong>çŠ¶æ€ä»£ç :</strong> 200 OK</p>
            <p><strong>é—®é¢˜:</strong> é“¶è¡Œå¡å……å€¼è®°å½•æ²¡æœ‰æ˜¾ç¤ºçŠ¶æ€é¢œè‰²</p>
        </div>
        
        <div class="debug-section">
            <h3>ğŸ” è°ƒè¯•æ­¥éª¤</h3>
            <ol>
                <li><strong>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·</strong> (F12)</li>
                <li><strong>åˆ‡æ¢åˆ°Consoleæ ‡ç­¾é¡µ</strong></li>
                <li><strong>åˆ·æ–°é“¶è¡Œå¡å……å€¼è®°å½•é¡µé¢</strong></li>
                <li><strong>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º</strong>ï¼Œå¯»æ‰¾ä»¥ä¸‹ä¿¡æ¯ï¼š
                    <div class="code-block">
é“¶è¡Œå¡è®°å½•çŠ¶æ€: [çŠ¶æ€å€¼] å®Œæ•´æ•°æ®: [å®Œæ•´å¯¹è±¡]
                    </div>
                </li>
            </ol>
        </div>
        
        <h2>å¯èƒ½çš„é—®é¢˜åŸå› </h2>
        
        <div class="debug-section">
            <h3>1. çŠ¶æ€å­—æ®µåç§°ä¸æ­£ç¡®</h3>
            <p>APIè¿”å›çš„æ•°æ®ä¸­ï¼ŒçŠ¶æ€å­—æ®µå¯èƒ½ä¸æ˜¯ <code>state</code>ï¼Œè€Œæ˜¯å…¶ä»–åç§°ï¼Œæ¯”å¦‚ï¼š</p>
            <ul>
                <li><code>status</code></li>
                <li><code>order_status</code></li>
                <li><code>pay_status</code></li>
                <li><code>state_code</code></li>
            </ul>
        </div>
        
        <div class="debug-section">
            <h3>2. çŠ¶æ€å€¼ä¸åœ¨é¢„æœŸèŒƒå›´å†…</h3>
            <p>APIè¿”å›çš„çŠ¶æ€å€¼å¯èƒ½ä¸æ˜¯ 0ã€1ã€2ï¼Œè€Œæ˜¯å…¶ä»–å€¼ï¼Œæ¯”å¦‚ï¼š</p>
            <ul>
                <li>å­—ç¬¦ä¸²ç±»å‹ï¼š<code>"success"</code>, <code>"failed"</code>, <code>"pending"</code></li>
                <li>å…¶ä»–æ•°å­—ï¼š<code>3</code>, <code>4</code>, <code>5</code></li>
                <li>å¸ƒå°”å€¼ï¼š<code>true</code>, <code>false</code></li>
            </ul>
        </div>
        
        <div class="debug-section">
            <h3>3. çŠ¶æ€å­—æ®µä¸ºç©ºæˆ–undefined</h3>
            <p>APIè¿”å›çš„æ•°æ®ä¸­å¯èƒ½æ²¡æœ‰çŠ¶æ€å­—æ®µï¼Œæˆ–è€…å­—æ®µå€¼ä¸ºç©ºã€‚</p>
        </div>
        
        <h2>ä¿®æ”¹åçš„ä»£ç é€»è¾‘</h2>
        
        <h3>1. å¢å¼ºçš„çŠ¶æ€è·å–å‡½æ•°</h3>
        <div class="code-block">
// è·å–çŠ¶æ€å€¼
const getStatusValue = (item) => {
    if (selectIndexActive.value == 0) {
        // é“¶è¡Œå¡å……æè®°å½•
        console.log('é“¶è¡Œå¡è®°å½•çŠ¶æ€:', item.state, 'å®Œæ•´æ•°æ®:', item);
        return item.state !== undefined ? item.state : 0; // é»˜è®¤è¿”å›0ï¼ˆç¡®è®¤ä¸­ï¼‰
    } else {
        // æ•°å­—è´§å¸å……æè®°å½•
        console.log('æ•°å­—è´§å¸è®°å½•çŠ¶æ€:', item.status, 'å®Œæ•´æ•°æ®:', item);
        return item.status !== undefined ? item.status : 0; // é»˜è®¤è¿”å›0ï¼ˆç¡®è®¤ä¸­ï¼‰
    }
}
        </div>
        
        <h3>2. å¢å¼ºçš„çŠ¶æ€æ˜¾ç¤ºé€»è¾‘</h3>
        <div class="code-block">
&lt;div class="status flex"&gt;
    &lt;template v-if="getStatusValue(item) == 0 && !isEthConverted(item)"&gt;
        &lt;div class="status-icon status-icon-color3 mr-2"&gt;&lt;/div&gt;
        &lt;span class="status-text status-text-pending"&gt;{{ $t('confirming') }}&lt;/span&gt;
    &lt;/template&gt;
    &lt;template v-if="getStatusValue(item) == 1 || isEthConverted(item)"&gt;
        &lt;div class="status-icon status-icon-color1 mr-2"&gt;&lt;/div&gt;
        &lt;span class="status-text status-text-success"&gt;{{ $t('success') }}&lt;/span&gt;
    &lt;/template&gt;
    &lt;template v-if="getStatusValue(item) == 2 && !isEthConverted(item)"&gt;
        &lt;div class="status-icon status-icon-color2 mr-2"&gt;&lt;/div&gt;
        &lt;span class="status-text status-text-failed"&gt;{{ $t('fail') }}&lt;/span&gt;
    &lt;/template&gt;
    &lt;!-- æ·»åŠ é»˜è®¤çŠ¶æ€æ˜¾ç¤ºï¼Œä»¥é˜²çŠ¶æ€å€¼ä¸åœ¨é¢„æœŸèŒƒå›´å†… --&gt;
    &lt;template v-if="getStatusValue(item) !== 0 && getStatusValue(item) !== 1 && getStatusValue(item) !== 2"&gt;
        &lt;div class="status-icon status-icon-color3 mr-2"&gt;&lt;/div&gt;
        &lt;span class="status-text status-text-pending"&gt;{{ $t('confirming') }}&lt;/span&gt;
    &lt;/template&gt;
&lt;/div&gt;
        </div>
        
        <h2>é¢„æœŸæ˜¾ç¤ºæ•ˆæœ</h2>
        
        <div class="status-demo">
            <div class="status-icon status-icon-success"></div>
            <span class="status-text-success">æˆåŠŸ</span>
        </div>
        <div class="status-demo">
            <div class="status-icon status-icon-failed"></div>
            <span class="status-text-failed">å¤±è´¥</span>
        </div>
        <div class="status-demo">
            <div class="status-icon status-icon-pending"></div>
            <span class="status-text-pending">ç¡®å®šä¸­</span>
        </div>
        
        <h2>ä¸‹ä¸€æ­¥æ“ä½œ</h2>
        
        <div class="debug-section">
            <h3>è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</h3>
            <ol>
                <li><strong>åˆ·æ–°é¡µé¢</strong>ï¼ŒæŸ¥çœ‹é“¶è¡Œå¡å……å€¼è®°å½•</li>
                <li><strong>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°</strong>ï¼ŒæŸ¥çœ‹è°ƒè¯•ä¿¡æ¯</li>
                <li><strong>å°†æ§åˆ¶å°è¾“å‡ºçš„å®Œæ•´æ•°æ®æˆªå›¾æˆ–å¤åˆ¶</strong>å‘é€ç»™æˆ‘</li>
                <li><strong>å‘Šè¯‰æˆ‘çŠ¶æ€å­—æ®µçš„å®é™…åç§°å’Œå€¼</strong></li>
            </ol>
            <p>è¿™æ ·æˆ‘å°±èƒ½æ ¹æ®å®é™…çš„æ•°æ®ç»“æ„æ¥è°ƒæ•´ä»£ç ï¼Œç¡®ä¿çŠ¶æ€é¢œè‰²èƒ½æ­£ç¡®æ˜¾ç¤ºã€‚</p>
        </div>
        
        <h2>å¸¸è§çŠ¶æ€å­—æ®µæ˜ å°„</h2>
        
        <div class="code-block">
// å¯èƒ½çš„å­—æ®µåç§°å’Œå€¼æ˜ å°„
const statusMapping = {
    // å­—æ®µåç§°å¯èƒ½çš„å˜åŒ–
    state: item.state,
    status: item.status,
    order_status: item.order_status,
    pay_status: item.pay_status,
    
    // çŠ¶æ€å€¼å¯èƒ½çš„å˜åŒ–
    // æ•°å­—ç±»å‹
    0: 'ç¡®è®¤ä¸­',
    1: 'æˆåŠŸ', 
    2: 'å¤±è´¥',
    
    // å­—ç¬¦ä¸²ç±»å‹
    'pending': 'ç¡®è®¤ä¸­',
    'success': 'æˆåŠŸ',
    'failed': 'å¤±è´¥',
    'completed': 'æˆåŠŸ',
    'cancelled': 'å¤±è´¥',
    
    // å¸ƒå°”ç±»å‹
    true: 'æˆåŠŸ',
    false: 'å¤±è´¥'
}
        </div>
    </div>
</body>
</html>
