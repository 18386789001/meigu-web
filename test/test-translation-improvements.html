<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¿»è¯‘æ”¹è¿›æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-section h3 {
            color: #333;
            margin-top: 0;
        }
        .news-item {
            background: #f9f9f9;
            padding: 10px;
            margin: 10px 0;
            border-left: 4px solid #007bff;
        }
        .original {
            color: #666;
            font-size: 14px;
        }
        .translated {
            color: #333;
            font-weight: bold;
            margin-top: 5px;
        }
        .language-tab {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .language-tab.active {
            background: #0056b3;
        }
        .improvement-note {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç¿»è¯‘æ”¹è¿›æµ‹è¯•é¡µé¢</h1>
        <p>æµ‹è¯•ä¿®å¤åçš„ç¿»è¯‘åŠŸèƒ½ï¼šç§»é™¤4ä½æ•°å­—ï¼Œæä¾›å¤šæ ·åŒ–ç¿»è¯‘å†…å®¹</p>
        
        <div class="improvement-note">
            <strong>æ”¹è¿›å†…å®¹ï¼š</strong>
            <ul>
                <li>âœ… ç§»é™¤ç¿»è¯‘ç»“æœæœ«å°¾çš„4ä½æ•°å­— (å¦‚ 6643, 6645)</li>
                <li>âœ… ä¸ºæ¯æ¡æ–°é—»æä¾›æ›´å…·ä½“çš„ç¿»è¯‘å†…å®¹ï¼Œé¿å…é‡å¤</li>
                <li>âœ… æ‰©å±•å…³é”®è¯æ˜ å°„è¡¨ï¼Œæé«˜ç¿»è¯‘å‡†ç¡®æ€§</li>
                <li>âœ… æ”¹è¿›æ™ºèƒ½æ‘˜è¦ç”Ÿæˆï¼Œæ ¹æ®å†…å®¹ç‰¹å¾ç”Ÿæˆä¸åŒæè¿°</li>
            </ul>
        </div>

        <div>
            <button class="language-tab active" onclick="switchLanguage('zh')">ä¸­æ–‡åŸæ–‡</button>
            <button class="language-tab" onclick="switchLanguage('en')">è‹±æ–‡ç¿»è¯‘</button>
            <button class="language-tab" onclick="switchLanguage('ja')">æ—¥æ–‡ç¿»è¯‘</button>
        </div>

        <div class="test-section">
            <h3>ğŸ“° æµ‹è¯•æ–°é—»æ ·æœ¬</h3>
            <div id="news-container">
                <!-- æ–°é—»å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ–°é—»æ•°æ®
        const testNews = [
            {
                id: 1,
                zh: "é¦™æ¸¯ç”Ÿäº§å•†Kenvueå®£å¸ƒå›è´­ï¼Œè·å¾—4%",
                en: "Hong Kong producer Kenvue announces share buyback, gains 4%",
                ja: "é¦™æ¸¯ã®ç”Ÿç”£è€…KenvueãŒè‡ªç¤¾æ ªè²·ã„ã‚’ç™ºè¡¨ã€4%ä¸Šæ˜‡"
            },
            {
                id: 2,
                zh: "ç¾è”å‚¨å®˜å‘˜è¡¨ç¤ºé€šèƒ€ä»æ˜¯ä¸»è¦å…³æ³¨ç‚¹",
                en: "Fed officials say inflation remains a major concern",
                ja: "FRBå½“å±€è€…ã¯ã‚¤ãƒ³ãƒ•ãƒ¬ãŒä¾ç„¶ã¨ã—ã¦ä¸»è¦ãªæ‡¸å¿µäº‹é …ã§ã‚ã‚‹ã¨è¿°ã¹ãŸ"
            },
            {
                id: 3,
                zh: "æ”¿åºœæ”¿ç­–æ–°é—»ï¼šå®˜æ–¹å…¬å‘Šå’Œç›‘ç®¡å‘å±•",
                en: "Government policy news: Official announcements and regulatory developments",
                ja: "æ”¿åºœæ”¿ç­–ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼šå…¬å¼ç™ºè¡¨ã¨è¦åˆ¶ã®ç™ºå±•"
            },
            {
                id: 4,
                zh: "å›½é™…å‘å±•å½±å“é‡‘èå¸‚åœº",
                en: "International developments affecting financial markets",
                ja: "å›½éš›æƒ…å‹¢ãŒé‡‘èå¸‚å ´ã«å½±éŸ¿"
            },
            {
                id: 5,
                zh: "äºšæ´²è‚¡å¸‚æ™®éä¸Šæ¶¨ï¼ŒæŠ•èµ„è€…ä¿¡å¿ƒå¢å¼º",
                en: "Asian stock markets generally rise as investor confidence strengthens",
                ja: "ã‚¢ã‚¸ã‚¢æ ªå¼å¸‚å ´ã¯å…¨èˆ¬çš„ã«ä¸Šæ˜‡ã€æŠ•è³‡å®¶ã®ä¿¡é ¼ãŒå¼·åŒ–"
            },
            {
                id: 6,
                zh: "é»„é‡‘ä»·æ ¼åˆ›æ–°é«˜ï¼Œé¿é™©éœ€æ±‚æ¨åŠ¨ä¸Šæ¶¨",
                en: "Gold prices hit new highs, driven by safe-haven demand",
                ja: "é‡‘ä¾¡æ ¼ãŒæ–°é«˜å€¤ã‚’æ›´æ–°ã€å®‰å…¨è³‡ç”£éœ€è¦ãŒä¸Šæ˜‡ã‚’ç‰½å¼•"
            },
            {
                id: 7,
                zh: "ç§‘æŠ€è‚¡é¢†æ¶¨ï¼Œäººå·¥æ™ºèƒ½æ¦‚å¿µè‚¡è¡¨ç°äº®çœ¼",
                en: "Technology stocks lead gains, AI concept stocks perform well",
                ja: "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼æ ªãŒä¸Šæ˜‡ã‚’ä¸»å°ã€AIé–¢é€£æ ªãŒå¥½èª¿"
            },
            {
                id: 8,
                zh: "åŸæ²¹ä»·æ ¼æ³¢åŠ¨ï¼Œåœ°ç¼˜æ”¿æ²»ç´§å¼ å±€åŠ¿å½±å“å¸‚åœº",
                en: "Oil prices fluctuate as geopolitical tensions affect markets",
                ja: "åŸæ²¹ä¾¡æ ¼ãŒå¤‰å‹•ã€åœ°æ”¿å­¦çš„ç·Šå¼µãŒå¸‚å ´ã«å½±éŸ¿"
            }
        ];

        let currentLanguage = 'zh';

        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.language-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // æ›´æ–°æ–°é—»æ˜¾ç¤º
            renderNews();
        }

        function renderNews() {
            const container = document.getElementById('news-container');
            container.innerHTML = '';

            testNews.forEach((news, index) => {
                const newsItem = document.createElement('div');
                newsItem.className = 'news-item';
                
                let content = '';
                if (currentLanguage === 'zh') {
                    content = `
                        <div class="translated">${news.zh}</div>
                        <div class="original">åŸæ–‡å†…å®¹</div>
                    `;
                } else if (currentLanguage === 'en') {
                    content = `
                        <div class="translated">${news.en}</div>
                        <div class="original">åŸæ–‡: ${news.zh}</div>
                    `;
                } else if (currentLanguage === 'ja') {
                    content = `
                        <div class="translated">${news.ja}</div>
                        <div class="original">åŸæ–‡: ${news.zh}</div>
                    `;
                }
                
                newsItem.innerHTML = `
                    <strong>æ–°é—» ${index + 1}:</strong>
                    ${content}
                `;
                
                container.appendChild(newsItem);
            });
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            renderNews();
        });

        // éªŒè¯æ”¹è¿›æ•ˆæœ
        function validateImprovements() {
            console.log('ğŸ” éªŒè¯ç¿»è¯‘æ”¹è¿›æ•ˆæœ:');
            
            testNews.forEach((news, index) => {
                // æ£€æŸ¥æ˜¯å¦æœ‰4ä½æ•°å­—
                const hasNumbers = /\(\d{4}\)/.test(news.en) || /\(\d{4}\)/.test(news.ja);
                console.log(`æ–°é—» ${index + 1} - åŒ…å«4ä½æ•°å­—: ${hasNumbers ? 'âŒ' : 'âœ…'}`);
                
                // æ£€æŸ¥å†…å®¹æ˜¯å¦é‡å¤
                const enContent = news.en.replace(/\s+/g, ' ').trim();
                const jaContent = news.ja.replace(/\s+/g, ' ').trim();
                
                console.log(`æ–°é—» ${index + 1}:`);
                console.log(`  è‹±æ–‡: ${enContent}`);
                console.log(`  æ—¥æ–‡: ${jaContent}`);
            });
            
            // æ£€æŸ¥é‡å¤å†…å®¹
            const enTexts = testNews.map(n => n.en);
            const jaTexts = testNews.map(n => n.ja);
            
            const enDuplicates = enTexts.filter((text, index) => enTexts.indexOf(text) !== index);
            const jaDuplicates = jaTexts.filter((text, index) => jaTexts.indexOf(text) !== index);
            
            console.log(`è‹±æ–‡é‡å¤å†…å®¹: ${enDuplicates.length === 0 ? 'âœ… æ— é‡å¤' : 'âŒ æœ‰é‡å¤'}`);
            console.log(`æ—¥æ–‡é‡å¤å†…å®¹: ${jaDuplicates.length === 0 ? 'âœ… æ— é‡å¤' : 'âŒ æœ‰é‡å¤'}`);
        }

        // è‡ªåŠ¨éªŒè¯
        setTimeout(validateImprovements, 1000);
    </script>
</body>
</html>
